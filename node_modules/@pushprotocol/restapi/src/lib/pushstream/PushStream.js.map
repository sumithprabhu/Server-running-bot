{"version":3,"file":"PushStream.js","sourceRoot":"","sources":["../../../../../../packages/restapi/src/lib/pushstream/PushStream.ts"],"names":[],"mappings":"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"}