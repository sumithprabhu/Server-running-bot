"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.latestCore = exports.latest = void 0;
const tslib_1 = require("tslib");
const constants_1 = require("../constants");
const helpers_1 = require("./helpers");
const historicalMessages_1 = require("./historicalMessages");
/**
 * Get the latest chat message
 */
const latest = (options) => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
    return yield (0, exports.latestCore)(options, helpers_1.PGPHelper);
});
exports.latest = latest;
const latestCore = (options, pgpHelper) => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
    const { threadhash, pgpPrivateKey = '', account, toDecrypt = false, env = constants_1.default.ENV.PROD, } = options || {};
    return (0, historicalMessages_1.history)({
        threadhash,
        toDecrypt,
        limit: 1,
        pgpPrivateKey,
        account,
        env,
    });
});
exports.latestCore = latestCore;
//# sourceMappingURL=latestMessage.js.map