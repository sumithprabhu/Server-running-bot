import { ControlsOptions, MediaMetrics, MediaPropsOptions } from '@livepeer/core';
/**
 * Gather playback metrics from a generic HTML5 video/audio element and
 * report them to a websocket. Automatically handles a redirect to get the
 * metrics endpoint.
 *
 * @param element Element to capture playback metrics from.
 * @param sourceUrl Source URL for the player.
 * @param onError Callback when an error with metrics occurs.
 * @param opts Options for the metrics reporting.
 * @returns A callback for destroying the store and metrics.
 */
export declare function addMediaMetrics<TElement extends HTMLMediaElement, TMediaStream extends MediaStream>(element: TElement | undefined | null, onError?: (error: unknown) => void, opts?: ControlsOptions & MediaPropsOptions): MediaMetrics<TElement, TMediaStream>;
